{% extends "base.html" %}

{% block title %}{{ book.title }} - {{ 'home.hero_title' | translate(current_language or 'en') }}{% endblock %}

{% block content %}
<div class="row">
  <div class="col-lg-8">
    <div class="card">
      <div class="card-body">
        <div class="row">
          <div class="col-md-4">
            <div class="book-detail-cover mb-3">
              <img src="{{ url_for('book_cover', book_id=book.id) }}" alt="Cover of {{ book.title }}" class="cover-img">
            </div>
          </div>
          <div class="col-md-8">
            <h2 class="card-title">{{ book.title }}</h2>
            {% if book.authors %}
            <p class="text-muted"><i class="fas fa-user me-2"></i>{{ book.authors|join(', ') }}</p>
            {% endif %}
            <div class="mb-3">
              {% if book.primary_tag %}
                <span class="badge {{ book.primary_tag|primary_tag_color }} me-1">{{ book.primary_tag|tag_label(current_language or 'en') }}</span>
              {% endif %}
              {% if book.secondary_tags %}
                {% for t in book.secondary_tags[:3] %}
                  <span class="badge bg-secondary text-dark me-1">{{ t|tag_label(current_language or 'en') }}</span>
                {% endfor %}
              {% endif %}
            </div>
            {% if book.description %}
            <div class="mb-3">
              <h6>{{ 'book_details.book_description' | translate(current_language or 'en') }}</h6>
              <div class="description-text" style="white-space: pre-line;">{{ book.description | striptags }}</div>
            </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}



